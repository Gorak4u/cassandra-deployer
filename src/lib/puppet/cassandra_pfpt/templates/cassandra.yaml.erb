
cluster_name: '<%= @cluster_name %>'
<% if @num_tokens -%>
num_tokens: <%= @num_tokens %>
<% end -%>
<% if @initial_token -%>
initial_token: <%= @initial_token %>
<% end -%>
<% if @hints_directory -%>
hints_directory: <%= @hints_directory %>
<% end -%>
<% if @authenticator -%>
authenticator: <%= @authenticator %>
<% end -%>
<% if @authorizer -%>
authorizer: <%= @authorizer %>
<% end -%>
<% if @role_manager -%>
role_manager: <%= @role_manager %>
<% end -%>
<% if @endpoint_snitch -%>
endpoint_snitch: <%= @endpoint_snitch %>
<% end -%>
data_file_directories:
    - <%= @data_dir %>
commitlog_directory: <%= @commitlog_dir %>
saved_caches_directory: <%= @saved_caches_dir %>
<% if @cdc_raw_directory -%>
cdc_raw_directory: <%= @cdc_raw_directory %>
<% end -%>

seed_provider:
    - class_name: org.apache.cassandra.locator.SimpleSeedProvider
      parameters:
          - seeds: "<%= @seeds.join(',') %>"

<% if @listen_address -%>
listen_address: '<%= @listen_address %>'
<% end -%>
<% if @listen_interface -%>
listen_interface: '<%= @listen_interface %>'
<% end -%>
<% if @broadcast_address -%>
broadcast_address: '<%= @broadcast_address %>'
<% end -%>
<% if @rpc_interface -%>
rpc_interface: '<%= @rpc_interface %>'
<% end -%>
<% if @broadcast_rpc_address -%>
broadcast_rpc_address: '<%= @broadcast_rpc_address %>'
<% end -%>
<% if @native_transport_port -%>
native_transport_port: <%= @native_transport_port %>
<% end -%>
<% if @storage_port -%>
storage_port: <%= @storage_port %>
<% end -%>
<% if @ssl_storage_port -%>
ssl_storage_port: <%= @ssl_storage_port %>
<% end -%>

<% if @start_native_transport -%>
start_native_transport: <%= @start_native_transport %>
<% end -%>
<% if @start_rpc -%>
start_rpc: <%= @start_rpc %>
<% end -%>
<% if @rpc_port -%>
rpc_port: <%= @rpc_port %>
<% end -%>

<% if @dynamic_snitch -%>
dynamic_snitch: <%= @dynamic_snitch %>
<% end -%>
<% if @phi_convict_threshold -%>
phi_convict_threshold: <%= @phi_convict_threshold %>
<% end -%>

<% if @concurrent_reads -%>
concurrent_reads: <%= @concurrent_reads %>
<% end -%>
<% if @concurrent_writes -%>
concurrent_writes: <%= @concurrent_writes %>
<% end -%>
<% if @concurrent_counter_writes -%>
concurrent_counter_writes: <%= @concurrent_counter_writes %>
<% end -%>
<% if @memtable_allocation_type -%>
memtable_allocation_type: <%= @memtable_allocation_type %>
<% end -%>
<% if @disk_optimization_strategy -%>
disk_optimization_strategy: <%= @disk_optimization_strategy %>
<% end -%>

<% if @key_cache_size_in_mb -%>
key_cache_size_in_mb: <%= @key_cache_size_in_mb %>
<% end -%>
<% if @counter_cache_size_in_mb -%>
counter_cache_size_in_mb: <%= @counter_cache_size_in_mb %>
<% end -%>
<% if @file_cache_size_in_mb -%>
file_cache_size_in_mb: <%= @file_cache_size_in_mb %>
<% end -%>
<% if @index_summary_capacity_in_mb -%>
index_summary_capacity_in_mb: <%= @index_summary_capacity_in_mb %>
<% end -%>

<% if @commitlog_sync -%>
commitlog_sync: <%= @commitlog_sync %>
<% end -%>
<% if @commitlog_sync_period_in_ms -%>
commitlog_sync_period_in_ms: <%= @commitlog_sync_period_in_ms %>
<% end -%>
<% if @commit_failure_policy -%>
commit_failure_policy: <%= @commit_failure_policy %>
<% end -%>

<% if @request_timeout_in_ms -%>
request_timeout_in_ms: <%= @request_timeout_in_ms %>
<% end -%>
<% if @read_request_timeout_in_ms -%>
read_request_timeout_in_ms: <%= @read_request_timeout_in_ms %>
<% end -%>
<% if @range_request_timeout_in_ms -%>
range_request_timeout_in_ms: <%= @range_request_timeout_in_ms %>
<% end -%>
<% if @write_request_timeout_in_ms -%>
write_request_timeout_in_ms: <%= @write_request_timeout_in_ms %>
<% end -%>
<% if @truncate_request_timeout_in_ms -%>
truncate_request_timeout_in_ms: <%= @truncate_request_timeout_in_ms %>
<% end -%>

incremental_backups: <%= @incremental_backups %>
<% if @auto_snapshot -%>
auto_snapshot: <%= @auto_snapshot %>
<% end -%>

<% if @tombstone_warn_threshold -%>
tombstone_warn_threshold: <%= @tombstone_warn_threshold %>
<% end -%>
<% if @tombstone_failure_threshold -%>
tombstone_failure_threshold: <%= @tombstone_failure_threshold %>
<% end -%>
<% if @compaction_throughput_mb_per_sec -%>
compaction_throughput_mb_per_sec: <%= @compaction_throughput_mb_per_sec %>
<% end -%>
<% if @concurrent_compactors -%>
concurrent_compactors: <%= @concurrent_compactors %>
<% end -%>
<% if @enable_transient_replication -%>
enable_transient_replication: <%= @enable_transient_replication %>
<% end -%>
enable_materialized_views: <%= @enable_materialized_views %>
<% if @ssl_enabled -%>
server_encryption_options:
  internode_encryption: <%= @internode_encryption %>
  keystore: <%= @keystore_path %>
  keystore_password: <%= @keystore_password %>
  require_client_auth: <%= @internode_require_client_auth %>
  <% if @truststore_path && @truststore_password -%>
  truststore: <%= @truststore_path %>
  truststore_password: <%= @truststore_password %>
  <% end -%>
  <% if @tls_protocol -%>
  protocol: <%= @tls_protocol %>
  <% end -%>
  <% if @tls_algorithm -%>
  algorithm: <%= @tls_algorithm %>
  <% end -%>
  <% if @store_type -%>
  store_type: <%= @store_type %>
  <% end -%>

client_encryption_options:
  enabled: true
  optional: <%= @client_optional %>
  keystore: <%= @client_keystore_path %>
  keystore_password: <%= @keystore_password %>
  require_client_auth: <%= @client_require_client_auth %>
  <% if @client_truststore_path && @client_truststore_password -%>
  truststore: <%= @client_truststore_path %>
  truststore_password: <%= @client_truststore_password %>
  <% end -%>
<% end -%>
        