# This file is managed by Puppet. Do not edit manually.
# /etc/systemd/system/cassandra-repair.service
# Managed by Puppet

[Unit]
Description=Cassandra Node Scheduled Repair Service
Wants=cassandra.service
After=cassandra.service

[Service]
Type=oneshot
User=root
Group=root
RuntimeDirectory=cassandra
<%
  cmd_parts = [@manage_bin_dir + '/range-repair.sh']
  if @repair_duration_hours and @repair_duration_hours > 0
    cmd_parts << '--hours'
    cmd_parts << @repair_duration_hours
  end
  if @repair_keyspace and @repair_keyspace != ''
    cmd_parts << @repair_keyspace
  end
%>
ExecStart=<%= cmd_parts.join(' ') %>
